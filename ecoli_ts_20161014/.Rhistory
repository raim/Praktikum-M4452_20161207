

quit()
n
library("platexpress")

source("~/programs/platexpress/R/platereader.R")
raw <- readPlateData(files,type="BMG")
raw <- readPlateData(files,type="BMG",interpolate=F)
data <- raw
   ## 1) calculate average (MASTER) time
    mtime <- listAverage(data, "time")
    mtemp <- listAverage(data, "temp") 

mtime
    mtime <- listAverage(data, "time")
lst <- data
id "time"
id <- "time"
length(lst)
   vals <- lapply(lst, function(x) x[[id]])
    vals <- matrix(unlist(vals), ncol = length(vals), byrow = FALSE)
 
lst[[1]]
dim(lst[[1]])
length(lst[[1]])
length(lst[[2]])
lst <- data
    lst <- lst[unlist(lapply(lst, function(x) id%in%names(x)))]

names(lst)
length(lst)
dim(lst[1]])
dim(lst[[1]])
length(lst[[1]])
length(lst[[1]][1])
lst
length(lst[[3]]
)
names(datA)
names(data)
raw <- readPlateData(files,type="BMG",interpolate=F)
data <- raw
names(data)
    mtime <- listAverage(data, "time")

lst <- data
id="time"
names(data[[1]])
lst[unlist(lapply(lst, function(x) id%in%names(x)))]
tmp <- lst
    lst <- lst[unlist(lapply(lst, function(x) id%in%names(x)))]

length(lst)
names(lst[[1]])
    vals <- lapply(lst, function(x) x[[id]])

vals
    vals <- matrix(unlist(vals), ncol = length(vals), byrow = FALSE)

dim(vals)
head(vals)
tail(vals)
dim(data[[1]]$data)
dim(data[[2]]$data)
    vals <- lapply(lst, function(x) x[[id]])

length(vals)
names(vals[[1]])
names(vals[[2]])
length(vals[[1]])
length(vals[[2]])
    lapply(vals, length)
head(time(valls[[1]]))
head(time(vals[[1]]))
head(time(vals[[2]]))
head(vals[[2]])
head(vals[[1]])
    unlist(lapply(vals, length))

    diff(unlist(lapply(vals, length)))
diff(unlist(lapply(vals, length)))!=0
mn
typeof(vals[[1]])
length(vals[[1]])
        tmp <- lapply(vals, function(x) x[1:mn])

dim(tmp)
diff(tmp)
head(tmp)
tail(tmp)
tail(vals[[1]])
tail(vals[[2]])
source("~/programs/platexpress/R/platereader.R")
groups <- getGroups(plate,by="strain","IPTG")
groups
range(raw$Time)
vp
vp <- viewPlate(raw,xlim=c(0,3000),xscale=TRUE)
viewGroups(raw,groups[1:10],xlim=c(0,1500))
quit(save="no")
quit()
n
viewGroups(raw,groups[1:12],xlim=c(0,2000))
source("~/programs/platexpress/R/platereader.R")
viewGroups(raw,groups[1:12],xlim=c(0,2000),log="y")
viewGroups(raw,groups[1:12],xlim=c(0,2000),log="y")
viewGroups(raw,sgroups[2],xlim=c(0,1500),show.ci95=TRUE,lty.orig=1,lwd.orig=.5,log="y")
viewGroups(raw,sgroups[2],xlim=c(0,1500),show.ci95=TRUE,lty.orig=1,lwd.orig=.5)
viewGroups(raw,sgroups[2],xlim=c(0,1500),show.ci95=TRUE,lty.orig=1,lwd.orig=.5,log="y")
viewGroups(raw,sgroups[2],xlim=c(0,1500),show.ci95=TRUE,lty.orig=1,lwd.orig=.5)
viewGroups(raw,sgroups[2],xlim=c(0,1500),show.ci95=TRUE,lty.orig=1,lwd.orig=.5,log="y")
Save workspace image? [y/n/c]: 
viewGroups(data,groups[1:10],lwd.orig=0)
quit setwd("~/work/CoilProject/experiments/plategrowth/ecoli_ts_20161014")
quit()
n
